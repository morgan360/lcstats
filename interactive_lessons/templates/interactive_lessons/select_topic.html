{% extends "_base.html" %}
{% block title %}Choose a Topic{% endblock %}
{% block content %}

<h1 class="mb-8 mt-6 text-2xl font-semibold text-mist text-center">Choose a Topic</h1>

<div class="w-full overflow-hidden rounded-xl border border-indigo-deep/15 bg-mist/90 shadow-[0_10px_30px_rgba(0,0,0,0.08)] text-center">
    <div class="hidden gap-4 bg-[linear-gradient(135deg,#667eea_0%,#764ba2_100%)] px-5 py-4 text-sm font-semibold text-white md:grid md:grid-cols-5">
        <div>Topic</div>
        <div class="text-center">Interactive Quiz</div>
        <div class="text-center">Exam Questions</div>
        <div class="text-center">QuickFlicks</div>
        <div class="text-center">Flashcards</div>
    </div>

    {% for item in topics_with_notes %}
    <div class="grid grid-cols-1 items-center gap-3 border-b border-indigo-deep/15 px-5 py-5 transition hover:bg-mist/80 last:border-b-0 md:grid md:grid-cols-5 md:gap-4">
        <div class="text-center font-semibold text-midnight md:mb-0 md:border-0 mb-2 lg:ml-6 lg:text-left border-b border-indigo-deep/15 pb-2">
            <div class="md:hidden mb-1 text-xs font-semibold uppercase tracking-wide text-indigo-deep/70">Topic</div>
            <div class="text-lg">{{ item.topic.name }}</div>
        </div>

        <div class="flex justify-center">
            <a href="{% url 'section_list' item.topic.slug %}" class="inline-flex w-full max-w-[200px] items-center justify-center gap-2 rounded-lg bg-[linear-gradient(135deg,#667eea_0%,#764ba2_100%)] px-2 py-2 text-sm font-semibold text-white shadow-[0_12px_24px_rgba(0,0,0,0.18)] transition hover:-translate-y-0.5 hover:shadow-[0_16px_30px_rgba(0,0,0,0.24)] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-violet-royal">
                <svg class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M12.5,7V12.25L17,14.92L16.25,16.15L11,13V7H12.5Z"/>
                </svg>
                Quiz
                <span class="ml-1 rounded-full bg-white/20 px-2 py-0.5 text-xs font-semibold text-white">{{ item.question_count }}</span>
            </a>
        </div>

        <div class="flex justify-center">
            {% if item.has_exam_questions %}
            <a href="{% url 'topic_exam_questions' item.topic.slug %}" class="inline-flex w-full max-w-[200px] items-center justify-center gap-2 rounded-lg bg-[linear-gradient(135deg,#fa709a_0%,#fee140_100%)] px-4 py-2 text-sm font-semibold text-white shadow-[0_12px_24px_rgba(0,0,0,0.2)] transition hover:-translate-y-0.5 hover:shadow-[0_16px_30px_rgba(0,0,0,0.26)] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-violet-royal">
                <svg class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/>
                </svg>
                Exam Q's
                <span class="ml-1 rounded-full bg-white/20 px-2 py-0.5 text-xs font-semibold text-white">{{ item.exam_question_count }}</span>
            </a>
            {% else %}
            <span class="inline-flex w-full max-w-[200px] items-center border-solid border border-indigo-deep/30 justify-center gap-2 rounded-lg bg-mist/70 px-4 py-2 text-sm font-semibold text-indigo-deep/60">
                <svg class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/>
                </svg>
                Not Available
            </span>
            {% endif %}
        </div>

        <div class="flex justify-center">
            {% if item.has_quickkicks %}
            <a href="{% url 'quickkicks:quickkicks_list' item.topic.slug %}" class="inline-flex w-full max-w-[200px] items-center justify-center gap-2 rounded-lg bg-[linear-gradient(135deg,#f093fb_0%,#f5576c_100%)] px-4 py-2 text-sm font-semibold text-white shadow-[0_12px_24px_rgba(148,72,176,0.3)] transition hover:-translate-y-0.5 hover:shadow-[0_16px_30px_rgba(148,72,176,0.38)] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-violet-royal">
                <svg class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M17,10.5V7A1,1 0 0,0 16,6H4A1,1 0 0,0 3,7V17A1,1 0 0,0 4,18H16A1,1 0 0,0 17,17V13.5L21,17.5V6.5L17,10.5Z"/>
                </svg>
                View
                <span class="ml-1 rounded-full bg-white/20 px-2 py-0.5 text-xs font-semibold text-white">{{ item.quickkick_count }}</span>
            </a>
            {% else %}
            <span class="inline-flex w-full max-w-[200px] items-center border-solid border border-indigo-deep/30 justify-center gap-2 rounded-lg bg-mist/70 px-4 py-2 text-sm font-semibold text-indigo-deep/60">
                <svg class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M17,10.5V7A1,1 0 0,0 16,6H4A1,1 0 0,0 3,7V17A1,1 0 0,0 4,18H16A1,1 0 0,0 17,17V13.5L21,17.5V6.5L17,10.5Z"/>
                </svg>
                Not Available
            </span>
            {% endif %}
        </div>

        <div class="flex justify-center">
            {% if item.has_flashcards %}
            <a href="{% url 'flashcards:flashcard_sets_list' item.topic.slug %}" class="inline-flex w-full max-w-[200px] items-center justify-center gap-2 rounded-lg bg-[linear-gradient(135deg,#34d399_0%,#10b981_100%)] px-4 py-2 text-sm font-semibold text-white shadow-[0_12px_24px_rgba(52,211,153,0.3)] transition hover:-translate-y-0.5 hover:shadow-[0_16px_30px_rgba(52,211,153,0.4)] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-violet-royal">
                <svg class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
                </svg>
                Study
                <span class="ml-1 rounded-full bg-white/20 px-2 py-0.5 text-xs font-semibold text-white">{{ item.flashcard_count }}</span>
            </a>
            {% else %}
            <span class="inline-flex w-full max-w-[200px] items-center border-solid border border-indigo-deep/30 justify-center gap-2 rounded-lg bg-mist/70 px-4 py-2 text-sm font-semibold text-indigo-deep/60">
                <svg class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
                </svg>
                Not Available
            </span>
            {% endif %}
        </div>
    </div>
    {% endfor %}
</div>

{% endblock %}
