{% extends "_base.html" %}
{% load account %}

{% block title %}Sign Up | NumSocil{% endblock %}

{% block content %}
<div style="max-width: 500px; margin: 60px auto; padding: 20px;">
    <div style="background: white; border-radius: 12px; padding: 40px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
        <div style="text-align: center; margin-bottom: 30px;">
            <h1 style="color: #00994c; font-size: 2em; margin-bottom: 10px;">Create Your Account</h1>
            <p style="color: #666; font-size: 1.1em;">Join thousands of students mastering LC Maths</p>
        </div>

        {% if messages %}
            {% for message in messages %}
                <div style="background-color: {% if message.tags == 'error' or message.tags == 'danger' %}#ffebee{% else %}#e8f5e9{% endif %};
                            border: 1px solid {% if message.tags == 'error' or message.tags == 'danger' %}#ef5350{% else %}#66bb6a{% endif %};
                            padding: 12px;
                            border-radius: 6px;
                            margin-bottom: 20px;
                            text-align: center;">
                    {{ message }}
                </div>
            {% endfor %}
        {% endif %}

        <form method="POST" action="{% url 'account_signup' %}">
            {% csrf_token %}

            {% if form.non_field_errors %}
                <div style="background-color: #ffebee; border: 1px solid #ef5350; padding: 12px; border-radius: 6px; margin-bottom: 20px;">
                    {{ form.non_field_errors }}
                </div>
            {% endif %}

            <div style="margin-bottom: 20px;">
                <label for="{{ form.username.id_for_label }}" style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;">
                    Username *
                </label>
                <input type="text"
                       name="{{ form.username.name }}"
                       id="{{ form.username.id_for_label }}"
                       placeholder="Choose a username"
                       required
                       value="{{ form.username.value|default:'' }}"
                       style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 6px; font-size: 1em; box-sizing: border-box; transition: border-color 0.3s;">
                {% if form.username.errors %}
                    <div style="color: #ef5350; font-size: 0.9em; margin-top: 5px;">
                        {{ form.username.errors }}
                    </div>
                {% endif %}
                {% if form.username.help_text %}
                    <div style="color: #999; font-size: 0.85em; margin-top: 5px;">
                        {{ form.username.help_text }}
                    </div>
                {% endif %}
            </div>

            <div style="margin-bottom: 20px;">
                <label for="{{ form.email.id_for_label }}" style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;">
                    Email Address *
                </label>
                <input type="email"
                       name="{{ form.email.name }}"
                       id="{{ form.email.id_for_label }}"
                       placeholder="your.email@example.com"
                       required
                       value="{{ form.email.value|default:'' }}"
                       style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 6px; font-size: 1em; box-sizing: border-box; transition: border-color 0.3s;">
                {% if form.email.errors %}
                    <div style="color: #ef5350; font-size: 0.9em; margin-top: 5px;">
                        {{ form.email.errors }}
                    </div>
                {% endif %}
                {% if form.email.help_text %}
                    <div style="color: #999; font-size: 0.85em; margin-top: 5px;">
                        {{ form.email.help_text }}
                    </div>
                {% endif %}
            </div>

            <div style="margin-bottom: 20px;">
                <label for="{{ form.registration_code.id_for_label }}" style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;">
                    Registration Code *
                </label>
                <input type="text"
                       name="{{ form.registration_code.name }}"
                       id="{{ form.registration_code.id_for_label }}"
                       placeholder="Enter your registration code"
                       required
                       value="{{ form.registration_code.value|default:'' }}"
                       style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 6px; font-size: 1em; box-sizing: border-box; transition: border-color 0.3s;">
                {% if form.registration_code.errors %}
                    <div style="color: #ef5350; font-size: 0.9em; margin-top: 5px;">
                        {{ form.registration_code.errors }}
                    </div>
                {% endif %}
                {% if form.registration_code.help_text %}
                    <div style="color: #999; font-size: 0.85em; margin-top: 5px;">
                        {{ form.registration_code.help_text }}
                    </div>
                {% endif %}
            </div>

            <div style="margin-bottom: 20px;">
                <label for="{{ form.password1.id_for_label }}" style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;">
                    Password *
                </label>
                <input type="password"
                       name="{{ form.password1.name }}"
                       id="{{ form.password1.id_for_label }}"
                       placeholder="Create a strong password"
                       required
                       style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 6px; font-size: 1em; box-sizing: border-box; transition: border-color 0.3s;">
                {% if form.password1.errors %}
                    <div style="color: #ef5350; font-size: 0.9em; margin-top: 5px;">
                        {{ form.password1.errors }}
                    </div>
                {% endif %}
                {% if form.password1.help_text %}
                    <div style="color: #999; font-size: 0.85em; margin-top: 5px;">
                        {{ form.password1.help_text|safe }}
                    </div>
                {% endif %}
            </div>

            <div style="margin-bottom: 25px;">
                <label for="{{ form.password2.id_for_label }}" style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;">
                    Confirm Password *
                </label>
                <input type="password"
                       name="{{ form.password2.name }}"
                       id="{{ form.password2.id_for_label }}"
                       placeholder="Re-enter your password"
                       required
                       style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 6px; font-size: 1em; box-sizing: border-box; transition: border-color 0.3s;">
                {% if form.password2.errors %}
                    <div style="color: #ef5350; font-size: 0.9em; margin-top: 5px;">
                        {{ form.password2.errors }}
                    </div>
                {% endif %}
            </div>

            {% if redirect_field_value %}
                <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}">
            {% endif %}

            <button type="submit"
                    style="width: 100%; background: linear-gradient(135deg, #00994c 0%, #00cc66 100%); color: white; padding: 14px; font-size: 1.1em; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; transition: transform 0.2s;">
                Create Account
            </button>
        </form>

        <div style="text-align: center; margin-top: 25px; padding-top: 25px; border-top: 2px solid #f0f0f0;">
            <p style="margin: 0; color: #666;">
                Already have an account?
                <a href="{% url 'account_login' %}" style="color: #004aad; font-weight: 600; text-decoration: none;">
                    Login here
                </a>
            </p>
        </div>
    </div>
</div>

<style>
    input[type="text"]:focus,
    input[type="email"]:focus,
    input[type="password"]:focus {
        outline: none;
        border-color: #00994c;
    }

    button[type="submit"]:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 153, 76, 0.3);
    }
</style>
{% endblock %}