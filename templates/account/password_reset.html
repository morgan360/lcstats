{% extends "_base.html" %}
{% load account %}

{% block title %}Password Reset | LCAI Maths{% endblock %}

{% block content %}
<div style="max-width: 500px; margin: 60px auto; padding: 20px;">
    <div style="background: white; border-radius: 12px; padding: 40px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
        <div style="text-align: center; margin-bottom: 30px;">
            <div style="font-size: 3em; margin-bottom: 15px;">ðŸ”’</div>
            <h1 style="color: #004aad; font-size: 2em; margin-bottom: 10px;">Reset Password</h1>
            <p style="color: #666; font-size: 1em; line-height: 1.6;">
                Forgotten your password? Enter your email address below, and we'll send you an email with instructions to reset it.
            </p>
        </div>

        {% if messages %}
            {% for message in messages %}
                <div style="background-color: {% if message.tags == 'error' or message.tags == 'danger' %}#ffebee{% else %}#e8f5e9{% endif %};
                            border: 1px solid {% if message.tags == 'error' or message.tags == 'danger' %}#ef5350{% else %}#66bb6a{% endif %};
                            padding: 12px;
                            border-radius: 6px;
                            margin-bottom: 20px;
                            text-align: center;">
                    {{ message }}
                </div>
            {% endfor %}
        {% endif %}

        <form method="POST" action="{% url 'account_reset_password' %}">
            {% csrf_token %}

            {% if form.non_field_errors %}
                <div style="background-color: #ffebee; border: 1px solid #ef5350; padding: 12px; border-radius: 6px; margin-bottom: 20px;">
                    {{ form.non_field_errors }}
                </div>
            {% endif %}

            <div style="margin-bottom: 25px;">
                <label for="{{ form.email.id_for_label }}" style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;">
                    Email Address
                </label>
                <input type="email"
                       name="{{ form.email.name }}"
                       id="{{ form.email.id_for_label }}"
                       placeholder="your.email@example.com"
                       required
                       value="{{ form.email.value|default:'' }}"
                       style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 6px; font-size: 1em; box-sizing: border-box; transition: border-color 0.3s;">
                {% if form.email.errors %}
                    <div style="color: #ef5350; font-size: 0.9em; margin-top: 5px;">
                        {{ form.email.errors }}
                    </div>
                {% endif %}
            </div>

            <button type="submit"
                    style="width: 100%; background: linear-gradient(135deg, #004aad 0%, #0066cc 100%); color: white; padding: 14px; font-size: 1.1em; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; transition: transform 0.2s;">
                Reset My Password
            </button>
        </form>

        <div style="text-align: center; margin-top: 25px; padding-top: 25px; border-top: 2px solid #f0f0f0;">
            <p style="margin: 0; color: #666;">
                Remember your password?
                <a href="{% url 'account_login' %}" style="color: #004aad; font-weight: 600; text-decoration: none;">
                    Login here
                </a>
            </p>
        </div>
    </div>
</div>

<style>
    input[type="email"]:focus {
        outline: none;
        border-color: #004aad;
    }

    button[type="submit"]:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 74, 173, 0.3);
    }
</style>
{% endblock %}