{% extends '_base.html' %}

{% block title %}QuickKicks - {{ topic.name }} | LCAI Maths{% endblock %}

{% block content %}
<div class="max-w-6xl mx-auto px-4 py-8">
  <!-- Header -->
  <div class="mb-8">
    <h1 class="text-4xl font-bold text-gray-900 mb-3">QuickKicks: {{ topic.name }}</h1>
    <p class="text-lg text-gray-600">Short animation videos and interactive GeoGebra applets to help you visualize and understand key concepts</p>
  </div>

  <!-- Videos List -->
  {% if quickkicks %}
    <div class="bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200">
      <table class="min-w-full">
        <thead>
          <tr class="bg-gradient-to-r from-blue-600 to-blue-700 text-white">
            <th class="px-6 py-4 text-left text-sm font-semibold">Title</th>
            <th class="px-6 py-4 text-left text-sm font-semibold">Type</th>
            <th class="px-6 py-4 text-left text-sm font-semibold">Description</th>
            <th class="px-6 py-4 text-center text-sm font-semibold">Duration</th>
            <th class="px-6 py-4 text-center text-sm font-semibold">Action</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-gray-200">
          {% for quickkick in quickkicks %}
          <tr class="hover:bg-blue-50 transition-colors">
            <td class="px-6 py-5">
              <div class="font-semibold text-gray-900">{{ quickkick.title }}</div>
            </td>
            <td class="px-6 py-5">
              {% if quickkick.content_type == 'video' %}
                <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-purple-100 text-purple-800 border border-purple-200">
                  <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M8 5v14l11-7z"/>
                  </svg>
                  Video
                </span>
              {% else %}
                <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800 border border-green-200">
                  <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,16.5L6.5,12L7.91,10.59L11,13.67L16.59,8.09L18,9.5L11,16.5Z"/>
                  </svg>
                  GeoGebra
                </span>
              {% endif %}
            </td>
            <td class="px-6 py-5">
              <div class="text-sm text-gray-600 max-w-md">{{ quickkick.description|truncatewords:20 }}</div>
            </td>
            <td class="px-6 py-5 text-center">
              <div class="text-sm text-gray-600 font-medium">
                {% if quickkick.content_type == 'video' and quickkick.duration_seconds %}
                  {{ quickkick.duration_seconds }}s
                {% else %}
                  <span class="text-gray-400">-</span>
                {% endif %}
              </div>
            </td>
            <td class="px-6 py-5 text-center">
              <a href="{% url 'quickkicks:quickkick_view' topic.slug quickkick.id %}"
                 class="inline-flex items-center px-4 py-2 text-sm font-semibold rounded-lg text-white bg-blue-600 hover:bg-blue-700 hover:shadow-md transition-all duration-200">
                {% if quickkick.content_type == 'video' %}
                  <svg class="w-4 h-4 mr-1.5" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M8 5v14l11-7z"/>
                  </svg>
                  Watch
                {% else %}
                  <svg class="w-4 h-4 mr-1.5" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z"/>
                  </svg>
                  Open
                {% endif %}
              </a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% else %}
    <!-- No Videos Message -->
    <div class="bg-yellow-50 border-l-4 border-yellow-400 p-6 rounded">
      <div class="flex">
        <div class="flex-shrink-0">
          <svg class="h-5 w-5 text-yellow-400" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
          </svg>
        </div>
        <div class="ml-3">
          <p class="text-sm text-yellow-700">
            No QuickKick videos available for this topic yet. Check back soon!
          </p>
        </div>
      </div>
    </div>
  {% endif %}

  <!-- Back Button -->
  <div class="mt-8">
    <a href="{% url 'select_topic' %}"
       class="inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors">
      &larr; Back to Interactive Lessons
    </a>
  </div>
</div>
{% endblock %}