{% extends '_base.html' %}

{% block title %}{{ quickkick.title }} | QuickFlicks{% endblock %}

{% block content %}
<div class="mx-auto max-w-6xl px-4 py-8 sm:px-6 lg:px-8">
  <!-- Header -->
  <div class="mb-6 rounded-2xl bg-gradient-to-r from-rose-pop to-violet-royal p-6 text-mist shadow-[0_14px_36px_rgba(148,72,176,0.28)]">
    <div class="mb-2 flex flex-wrap items-center gap-3">
      <span class="inline-flex items-center rounded-full bg-white/20 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-mist">
        {{ topic.name }}
      </span>
      {% if quickkick.duration_seconds %}
      <span class="inline-flex items-center rounded-full bg-midnight/30 px-3 py-1 text-xs font-semibold text-mist">
        ⏱ {{ quickkick.duration_seconds }}s
      </span>
      {% endif %}
    </div>
    <h1 class="mb-2 text-3xl font-semibold">{{ quickkick.title }}</h1>
    {% if quickkick.description %}
    <p class="text-mist/90">{{ quickkick.description }}</p>
    {% endif %}
  </div>

  <!-- Content Display -->
  <div class="rounded-2xl border border-indigo-deep/10 bg-white/95 shadow-[0_14px_32px_rgba(0,0,0,0.12)] overflow-hidden">
    {% if quickkick.content_type == 'video' %}
      <div class="bg-black">
        <video class="w-full" controls autoplay style="max-height: 600px;">
          <source src="{{ quickkick.video.url }}" type="video/mp4">
          Your browser does not support the video tag.
        </video>
      </div>
    {% else %}
      <div class="bg-midnight/90">
        <iframe
          src="{{ quickkick.geogebra_embed_url }}"
          width="100%"
          height="600px"
          class="w-full"
          style="border: 0;"
          allowfullscreen>
        </iframe>
      </div>
      <div class="border-t border-indigo-deep/10 bg-mist/60 px-5 py-4 text-sm text-indigo-deep">
        <span class="font-semibold text-midnight">Tip:</span> Interact with the GeoGebra applet to explore the concepts dynamically.
      </div>
    {% endif %}
  </div>

  <!-- Actions -->
  <div class="mt-8 flex flex-wrap gap-3">
    <a href="{% url 'quickkicks:quickkicks_list' topic.slug %}"
      class="inline-flex items-center gap-2 rounded-lg bg-gradient-06 px-5 py-3 text-sm font-semibold text-mist shadow-[0_12px_26px_rgba(148,72,176,0.28)] transition hover:-translate-y-0.5 hover:shadow-[0_16px_32px_rgba(148,72,176,0.34)] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-violet-royal">
      ← More {{ topic.name }} Videos
    </a>
  </div>
</div>
{% endblock %}
